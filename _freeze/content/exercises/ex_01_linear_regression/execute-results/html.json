{
  "hash": "a9dae31bba8139f1400868fe05b3eae0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Exercise - Hands-on linear regression\"\nsubtitle: \"A first exercise to get started with regression analysis in R\"\npublished-title: \"Date\"\ndate: \"2024-10-01\"\nself-contained: true\nengine: knitr\n---\n\n::: {.cell}\n\n:::\n\n\n::: {.callout-important title=\"Instructions\"}\nThis page describe the instructions and some interactive snippets. You will have to run most of your code on `RStudio`, on your own computer.\n:::\n\nFirst, let's load useful packages. For now, we will only need the `tidyverse` package.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(tidyverse)\n```\n:::\n\n\nWe will work with the `airquality` data set.\n\n## Exploring the data set\n\nThis data set is automatically loaded to your `R environment`; you can call it directly. What are its dimensions?\n\n<input class='webex-solveme nospaces' size='3' data-answer='[\"153\"]'/> rows and <input class='webex-solveme nospaces' size='1' data-answer='[\"6\"]'/> columns.\n\nWhat does each variable represent? Use the `help` function to answer this question.\n\n::: callout-tip\nThere is a shortcut for the `help` function: just put a `?` before the function or data set you want help for, *eg*, `help(print)` and `?print` will have the same effect. Try it out!\n:::\n\n## Ploting the relationship\n\nHow are `Ozone` and `Wind` related? First, we will plot the raw data using a scatter plot and `ggplot`.\n\n::: callout-important\n`ggplot` is a tool that allows you to make awesome plots in R. It is based on the Grammar of Graphics, a theoretical approach to make graph, that essentially builds graphs layer by layer.\n:::\n\nWhich variable should you put on the $y$ axis? <input class='webex-solveme nospaces' size='5' data-answer='[\"Ozone\"]'/> . Why?\n\nNow, fill in the blanks in the following chunk of code to plot a graph describing the relationship between the two variables. To do so, replace `x_variable` and `y_variable` with the name of the variables you want to plot.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = airquality, aes(x = Wind, y = Ozone)) +\n  geom_point() +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = \"\",\n    x = \"Wind (in mph)\",\n    y = \"Ozone (in ppb)\"\n  )\n```\n:::\n\n\nDo not forget to label the axes (indicating the units) and give a title to your graph. You can also play around with the various lines, for instance adding them one after the other, to understand their use. You will learn more about `ggplot` in TD.\n\n## A first regression\n\nNow that we have quickly plotted the data, let's run our first regression. To do so, we will use the `lm()` function. What does `lm` stands for? <input class='webex-solveme nospaces ignorecase regex' size='15' data-answer='[\"linear models?$\"]'/>.\n\nTo regress, `y` on `x`, we need to write the formula `y ~ x`. Write your formula of interest for the `airquality` dataset and run the function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm(formula = y_variable ~ x_variable, data = airquality)\n```\n:::\n\n\nYou can store the result fo this regression, in the `reg` variable for instance. Use the \"assignment\" sign `<-` and this will create the `reg` variable.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreg <- lm(formula = Ozone ~ Wind, data = airquality)\n```\n:::\n\n\nThe nice thing with this is that you then can call the `summary()` function on this object:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(reg)\n```\n:::\n\n\nRun this function. There is a lot of information there. What is the value of the coefficient of interest? <input class='webex-solveme nospaces' data-tol='0.1' size='5' data-answer='[\"-5.55\"]'/>.\n\nInterpret this coefficient. What word should your sentence start with? <input class='webex-solveme nospaces ignorecase' size='9' data-answer='[\"comparing\"]'/>.\n\nAs always, there is some uncertainty associated with the value of this coefficient. What is the standard error of this coefficient? <input class='webex-solveme nospaces' data-tol='0.01' size='4' data-answer='[\"0.69\",\".69\"]'/>. Is the estimate statistically significant? <select class='webex-select'><option value='blank'></option><option value='answer'>Yes</option><option value=''>No</option></select>.\n\n### Specification\n\n## Multiple regression\n\nLet's consider a different model, including temperature. Assume that $\\forall i \\in \\{1, .., n\\}$, we have:\n\n$$Ozone_i = \\beta_0 + \\beta_1 Wind_i + \\beta_2 Temp_i + e_i$$ Run a longer regression by adding one predictor to the model. To do so, you need to replace the `...` by <input class='webex-solveme nospaces' size='19' data-answer='[\"Ozone ~ Wind + Temp\",\"Ozone ~ Temp + Wind\"]'/>.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreg_temp <- lm(formula = ..., data = airquality)\n\nsummary(reg_temp)\n```\n:::\n\n\nWhat is the coefficient associated with `Wind`? <input class='webex-solveme nospaces' data-tol='0.1' size='2' data-answer='[\"-3\"]'/>.\n\nIs it close to the one we had before, including only `Wind` as a predictor? <select class='webex-select'><option value='blank'></option><option value=''>Yes</option><option value='answer'>No</option></select>. Why is that different?\n\nMake a sentence to interpret this coefficient, starting with the same word as usual (<input class='webex-solveme nospaces ignorecase' size='9' data-answer='[\"comparing\"]'/>).\n\n## Scaling\n\nWhat is the unit of `Wind`? <input class='webex-solveme nospaces ignorecase' size='3' data-answer='[\"mph\"]'/>. Is it easily interpretable for you? Not really. Let's transform it into something we are more familiar with: <input class='webex-solveme nospaces ignorecase regex' size='4' data-answer='[\"km/h\",\"kmh\"]'/>.\n\nWhich `dplyr` function would you use to create a new variable? <input class='webex-solveme nospaces' size='6' data-answer='[\"mutate\"]'/>.\n\nTo get from `Wind` to your new variable, your need to <select class='webex-select'><option value='blank'></option><option value='answer'>Multiply</option><option value=''>Divide</option></select> `Wind` by 1.609. Implement this and run your new regression.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nairquality_scaled <- airquality |> \n  ...\n\nreg_scaled <- lm(formula = ..., data = airquality_scaled)\n\nsummary(reg_scaled)\n```\n:::\n\n\nHow do you interpret the coefficient of interest?\n\n## Linear rellationship?\n\nYou plotted the data earlier. Does the relationship between `Ozone` and `Wind` actually seem linear? <select class='webex-select'><option value='blank'></option><option value=''>Yes</option><option value='answer'>No</option></select>. What physical process could explain this relationship?\n",
    "supporting": [
      "ex_01_linear_regression_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}