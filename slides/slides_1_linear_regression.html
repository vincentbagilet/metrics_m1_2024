<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Lecture 1 - Linear Regression</title>
    <meta charset="utf-8" />
    <meta name="author" content="Vincent Bagilet" />
    <meta name="date" content="2024-09-17" />
    <script src="libs/header-attrs-2.28/header-attrs.js"></script>
    <link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
    <script src="libs/plotly-binding-4.10.4/plotly.js"></script>
    <script src="libs/typedarray-0.1/typedarray.min.js"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <link href="libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
    <link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
    <script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
    <link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-1.3.1/leaflet.js"></script>
    <link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4-2.6.2/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding-2.2.2/leaflet.js"></script>
    <script src="libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
    <script src="libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
    <link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
    <script src="libs/HomeButton-0.0.1/home-button.js"></script>
    <script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
    <script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
    <link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
    <link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
    <link rel="stylesheet" href="mediocre-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: right, middle, inverse, title-slide

.title[
# Lecture 1 - Linear Regression
]
.subtitle[
## <br> Econometrics 1
]
.author[
### Vincent Bagilet
]
.date[
### 2024-09-17
]

---




class: right, middle

# Introduction

???

I introduce myself, they introduce themselves (ask them what they'd like to do later)

---
class: titled, middle

# Objectives

- Equip you with tools to quantitatively explore relevant social science questions

- Focus on intuitions

- Actual data sets, replications and simulated data

???

- Simulated data enable to know how the data is generated and therefore to study the influence of various factors and assumptions on the outcome of our analysis
- Provide you with tools to check hypotheses yourself

---
class: right, middle, inverse

# Taking Theory to Data

---
class: titled, middle

# Theory

- **Theory**: the output `\(Y_i\)` of a firm `\(i\)` is a function `\(F\)` of the capital `\(K_i\)` and labor `\(L_i\)` it employs

- `\(\forall i \in \{1, .., n\}\)`,

`$$Y_i = F(K_i, L_i) = \beta_0K^{\beta_{1}}L^{\beta_{2}}$$`

- `\(\beta_0\)`: total factor of productivity

- `\(\beta_1\)` and `\(\beta_2\)`:output elasticity of capital and labor

---
class: titled, middle

# To the Data

- Goals:

  - Assess the validity of this theory 
  
  - Quantify its parameters using observational data (**sign** and **magnitude**)
  
- Then, make general claims about the population : **inference**

---
class: titled, middle
# Steps of From Theory to Conclusion

Theory `\(\longrightarrow\)` Modelling `\(\longleftrightarrow\)` Data  `\(\longrightarrow\)` Estimations `\(\longleftrightarrow\)` Corrections `\(\longrightarrow\)` Interpretation

---
class: titled, middle
# From theory to a model

- `\(F\)` can be seen as a simplification of an unknown relationship called the **data generating process**

- All possible data generated by this relationship: the **population** 

- For practical reasons, we only observe a subset of the population: a **sample**

- We want the sample to be drawn **randomly** so that it is **representative**  of the population

---
class: titled, middle
layout:true

# An econometric model

---

- Based on our theory, we write an econometric model, `\(\forall i\)`:

`$$Y_i = f(K_i, L_i) + \epsilon_i = \beta_0 K_i^{\beta_1} L_i^{\beta_2} + \epsilon_i$$`
- `\(\epsilon\)` is an **error** term: our model does not perfectly explain the output

- We can linearize this model by "taking the log":

$$ log(Y_i) = \beta_0 + \beta_1 \log(K_i)  + \beta_2 \log(L_i) + e_i \qquad \forall i \in \{1, .., n\}$$
---
class: titled, middle

$$ log(Y_i) = \beta_0 + \beta_1 \log(K_i)  + \beta_2 \log(L_i) + e_i \qquad \forall i \in \{1, .., n\}$$

&lt;br&gt;

- The **logarithm** transformation provides meaningful economic interpretation (*ie* elasticities)

- The **linearity** allows a simple interpretation of the parameters (*ie* unit-increase)

- The **additivity** ensures that parameters can be interpreted separately (*ie* ceteris paribus)

---
layout: false

# Summary

- Econometrics `\(\simeq\)` methods to **approximate and interpret the data generation process**:

--

  1. Choose proxy variables for our theoretical quantities and collect a sample of observations
  
--
  
  1. Assume a functional form for the empirical model

--
  
  1. Fit the model to a sample of observations
  
--
  
  1. Interpret the sign and magnitude of the estimated parameters and draw conclusions

---
class: right, middle, inverse

# Logistics

---
# Website

&lt;iframe src="https://vincentbagilet.github.io/metrics_m1_2024/" width="100%" height="450px" data-external="1"&gt;&lt;/iframe&gt;

&lt;center&gt;

https://vincentbagilet.github.io/metrics_m1_2024/

&lt;/center&gt;

---
class: titled, middle

# Structure

- I will teach the 4 first lectures (<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"/></svg>  [vincent.bagilet@ens-lyon.fr](vincent.bagilet@ens-lyon.fr))

- Gaetan Bakalli: 4 last ones (<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"/></svg>  [bakalli@em-lyon.com](bakalli@em-lyon.com))

- Lucile Laugrette: a R TD (<svg aria-hidden="true" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M64 112c-8.8 0-16 7.2-16 16v22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16H64zM48 212.2V384c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64H448c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"/></svg>  [lucile.laugerette@gmail.com ](lucile.laugerette@gmail.com ))

---
class: titled, middle

# Outline

.pull-left[

### My section

1. Linear regression

1. OLS properties

1. Model specification

1. Covariates selection

]
.pull-right[

### Gaetan Bakalli's section

1. Convergence in probability

1. Asymptotic normality

1. Hypothesis testing - Theory

1. Hypothesis testing - Application

]

---
class: titled, middle

# A typical lecture

1. Introduce concepts, intuition

1. Exercise and application in R

1. A bit of maths

---

# Grading

.pull-left[
### Weekly Quizzes (20%)

- Every week, 10 min

- Easy =&gt; do not aim to penalize you

### Final Exam (40%)

Two parts:

1. Computer-based

1. Written test
]
.pull-right[
### Final Project (40%)

- In pairs

- Research question of your choice

- Short written report + notebook with your code

]

---
class: right, middle, inverse

# R: Why and How? 

---
class: titled, middle

# THE statistical analysis software

- Open source

- Can do anything linked to data: wrangling, cleaning, analyzing, visualizing, communicating

- Huge online community

- Packages for anything

---
# Massive capabilities

### Websites ([Quarto](https://quarto.org/)) and slides ([Quarto](https://quarto.org/), [Xaringan](https://slides.yihui.org/xaringan/#1))

&lt;iframe src="https://vincentbagilet.github.io/metrics_m1_2024/" width="100%" height="450px" data-external="1"&gt;&lt;/iframe&gt;

---
### Awesome graphs ([ggplot](https://ggplot2.tidyverse.org/))

.pull-left[
&lt;img src="images/ggplot_ex_small_multiples.png" width="60%" style="display: block; margin: auto;" /&gt;
]
.pull-right[
&lt;img src="images/rayshader.jpeg" width="2560" /&gt;
]

---
### Interactive graphs ([Plotly](https://plotly.com/r/)) 

<div class="plotly html-widget html-fill-item" id="htmlwidget-cdd6c517e4c91ddeca10" style="width:80%;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-cdd6c517e4c91ddeca10">{"x":{"data":[{"x":[29,29,31,30,26,26,27,26,25,28,27,25,25,25,25,24,25,23,20,15,20,17,17,26,23,26,25,24,19,14,15,17,27,30,26,29,26,24,24,22,22,24,24,17,22,21,23,23,19,18,17,17,19,19,12,17,15,17,17,12,17,16,18,15,16,12,17,17,16,12,15,16,17,15,17,17,18,17,19,17,19,19,17,17,17,16,16,17,15,17,26,25,26,24,21,22,23,22,20,33,32,32,29,32,34,36,36,29,26,27,30,31,26,26,28,26,29,28,27,24,24,24,22,19,20,17,12,19,18,14,15,18,18,15,17,16,18,17,19,19,17,29,27,31,32,27,26,26,25,25,17,17,20,18,26,26,27,28,25,25,24,27,25,26,23,26,26,26,26,25,27,25,27,20,20,19,17,20,17,29,27,31,31,26,26,28,27,29,31,31,26,26,27,30,33,35,37,35,15,18,20,20,22,17,19,18,20,29,26,29,29,24,44,29,26,29,29,29,29,23,24,44,41,29,26,28,29,29,29,28,29,26,26,26],"y":[1.8,1.8,2,2,2.7999999999999998,2.7999999999999998,3.1000000000000001,1.8,1.8,2,2,2.7999999999999998,2.7999999999999998,3.1000000000000001,3.1000000000000001,2.7999999999999998,3.1000000000000001,4.2000000000000002,5.2999999999999998,5.2999999999999998,5.2999999999999998,5.7000000000000002,6,5.7000000000000002,5.7000000000000002,6.2000000000000002,6.2000000000000002,7,5.2999999999999998,5.2999999999999998,5.7000000000000002,6.5,2.3999999999999999,2.3999999999999999,3.1000000000000001,3.5,3.6000000000000001,2.3999999999999999,3,3.2999999999999998,3.2999999999999998,3.2999999999999998,3.2999999999999998,3.2999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,4,3.7000000000000002,3.7000000000000002,3.8999999999999999,3.8999999999999999,4.7000000000000002,4.7000000000000002,4.7000000000000002,5.2000000000000002,5.2000000000000002,3.8999999999999999,4.7000000000000002,4.7000000000000002,4.7000000000000002,5.2000000000000002,5.7000000000000002,5.9000000000000004,4.7000000000000002,4.7000000000000002,4.7000000000000002,4.7000000000000002,4.7000000000000002,4.7000000000000002,5.2000000000000002,5.2000000000000002,5.7000000000000002,5.9000000000000004,4.5999999999999996,5.4000000000000004,5.4000000000000004,4,4,4,4,4.5999999999999996,5,4.2000000000000002,4.2000000000000002,4.5999999999999996,4.5999999999999996,4.5999999999999996,5.4000000000000004,5.4000000000000004,3.7999999999999998,3.7999999999999998,4,4,4.5999999999999996,4.5999999999999996,4.5999999999999996,4.5999999999999996,5.4000000000000004,1.6000000000000001,1.6000000000000001,1.6000000000000001,1.6000000000000001,1.6000000000000001,1.8,1.8,1.8,2,2.3999999999999999,2.3999999999999999,2.3999999999999999,2.3999999999999999,2.5,2.5,3.2999999999999998,2,2,2,2,2.7000000000000002,2.7000000000000002,2.7000000000000002,3,3.7000000000000002,4,4.7000000000000002,4.7000000000000002,4.7000000000000002,5.7000000000000002,6.0999999999999996,4,4.2000000000000002,4.4000000000000004,4.5999999999999996,5.4000000000000004,5.4000000000000004,5.4000000000000004,4,4,4.5999999999999996,5,2.3999999999999999,2.3999999999999999,2.5,2.5,3.5,3.5,3,3,3.5,3.2999999999999998,3.2999999999999998,4,5.5999999999999996,3.1000000000000001,3.7999999999999998,3.7999999999999998,3.7999999999999998,5.2999999999999998,2.5,2.5,2.5,2.5,2.5,2.5,2.2000000000000002,2.2000000000000002,2.5,2.5,2.5,2.5,2.5,2.5,2.7000000000000002,2.7000000000000002,3.3999999999999999,3.3999999999999999,4,4.7000000000000002,2.2000000000000002,2.2000000000000002,2.3999999999999999,2.3999999999999999,3,3,3.5,2.2000000000000002,2.2000000000000002,2.3999999999999999,2.3999999999999999,3,3,3.2999999999999998,1.8,1.8,1.8,1.8,1.8,4.7000000000000002,5.7000000000000002,2.7000000000000002,2.7000000000000002,2.7000000000000002,3.3999999999999999,3.3999999999999999,4,4,2,2,2,2,2.7999999999999998,1.8999999999999999,2,2,2,2,2.5,2.5,2.7999999999999998,2.7999999999999998,1.8999999999999999,1.8999999999999999,2,2,2.5,2.5,1.8,1.8,2,2,2.7999999999999998,2.7999999999999998,3.6000000000000001],"text":["hwy: 29<br />displ: 1.8","hwy: 29<br />displ: 1.8","hwy: 31<br />displ: 2.0","hwy: 30<br />displ: 2.0","hwy: 26<br />displ: 2.8","hwy: 26<br />displ: 2.8","hwy: 27<br />displ: 3.1","hwy: 26<br />displ: 1.8","hwy: 25<br />displ: 1.8","hwy: 28<br />displ: 2.0","hwy: 27<br />displ: 2.0","hwy: 25<br />displ: 2.8","hwy: 25<br />displ: 2.8","hwy: 25<br />displ: 3.1","hwy: 25<br />displ: 3.1","hwy: 24<br />displ: 2.8","hwy: 25<br />displ: 3.1","hwy: 23<br />displ: 4.2","hwy: 20<br />displ: 5.3","hwy: 15<br />displ: 5.3","hwy: 20<br />displ: 5.3","hwy: 17<br />displ: 5.7","hwy: 17<br />displ: 6.0","hwy: 26<br />displ: 5.7","hwy: 23<br />displ: 5.7","hwy: 26<br />displ: 6.2","hwy: 25<br />displ: 6.2","hwy: 24<br />displ: 7.0","hwy: 19<br />displ: 5.3","hwy: 14<br />displ: 5.3","hwy: 15<br />displ: 5.7","hwy: 17<br />displ: 6.5","hwy: 27<br />displ: 2.4","hwy: 30<br />displ: 2.4","hwy: 26<br />displ: 3.1","hwy: 29<br />displ: 3.5","hwy: 26<br />displ: 3.6","hwy: 24<br />displ: 2.4","hwy: 24<br />displ: 3.0","hwy: 22<br />displ: 3.3","hwy: 22<br />displ: 3.3","hwy: 24<br />displ: 3.3","hwy: 24<br />displ: 3.3","hwy: 17<br />displ: 3.3","hwy: 22<br />displ: 3.8","hwy: 21<br />displ: 3.8","hwy: 23<br />displ: 3.8","hwy: 23<br />displ: 4.0","hwy: 19<br />displ: 3.7","hwy: 18<br />displ: 3.7","hwy: 17<br />displ: 3.9","hwy: 17<br />displ: 3.9","hwy: 19<br />displ: 4.7","hwy: 19<br />displ: 4.7","hwy: 12<br />displ: 4.7","hwy: 17<br />displ: 5.2","hwy: 15<br />displ: 5.2","hwy: 17<br />displ: 3.9","hwy: 17<br />displ: 4.7","hwy: 12<br />displ: 4.7","hwy: 17<br />displ: 4.7","hwy: 16<br />displ: 5.2","hwy: 18<br />displ: 5.7","hwy: 15<br />displ: 5.9","hwy: 16<br />displ: 4.7","hwy: 12<br />displ: 4.7","hwy: 17<br />displ: 4.7","hwy: 17<br />displ: 4.7","hwy: 16<br />displ: 4.7","hwy: 12<br />displ: 4.7","hwy: 15<br />displ: 5.2","hwy: 16<br />displ: 5.2","hwy: 17<br />displ: 5.7","hwy: 15<br />displ: 5.9","hwy: 17<br />displ: 4.6","hwy: 17<br />displ: 5.4","hwy: 18<br />displ: 5.4","hwy: 17<br />displ: 4.0","hwy: 19<br />displ: 4.0","hwy: 17<br />displ: 4.0","hwy: 19<br />displ: 4.0","hwy: 19<br />displ: 4.6","hwy: 17<br />displ: 5.0","hwy: 17<br />displ: 4.2","hwy: 17<br />displ: 4.2","hwy: 16<br />displ: 4.6","hwy: 16<br />displ: 4.6","hwy: 17<br />displ: 4.6","hwy: 15<br />displ: 5.4","hwy: 17<br />displ: 5.4","hwy: 26<br />displ: 3.8","hwy: 25<br />displ: 3.8","hwy: 26<br />displ: 4.0","hwy: 24<br />displ: 4.0","hwy: 21<br />displ: 4.6","hwy: 22<br />displ: 4.6","hwy: 23<br />displ: 4.6","hwy: 22<br />displ: 4.6","hwy: 20<br />displ: 5.4","hwy: 33<br />displ: 1.6","hwy: 32<br />displ: 1.6","hwy: 32<br />displ: 1.6","hwy: 29<br />displ: 1.6","hwy: 32<br />displ: 1.6","hwy: 34<br />displ: 1.8","hwy: 36<br />displ: 1.8","hwy: 36<br />displ: 1.8","hwy: 29<br />displ: 2.0","hwy: 26<br />displ: 2.4","hwy: 27<br />displ: 2.4","hwy: 30<br />displ: 2.4","hwy: 31<br />displ: 2.4","hwy: 26<br />displ: 2.5","hwy: 26<br />displ: 2.5","hwy: 28<br />displ: 3.3","hwy: 26<br />displ: 2.0","hwy: 29<br />displ: 2.0","hwy: 28<br />displ: 2.0","hwy: 27<br />displ: 2.0","hwy: 24<br />displ: 2.7","hwy: 24<br />displ: 2.7","hwy: 24<br />displ: 2.7","hwy: 22<br />displ: 3.0","hwy: 19<br />displ: 3.7","hwy: 20<br />displ: 4.0","hwy: 17<br />displ: 4.7","hwy: 12<br />displ: 4.7","hwy: 19<br />displ: 4.7","hwy: 18<br />displ: 5.7","hwy: 14<br />displ: 6.1","hwy: 15<br />displ: 4.0","hwy: 18<br />displ: 4.2","hwy: 18<br />displ: 4.4","hwy: 15<br />displ: 4.6","hwy: 17<br />displ: 5.4","hwy: 16<br />displ: 5.4","hwy: 18<br />displ: 5.4","hwy: 17<br />displ: 4.0","hwy: 19<br />displ: 4.0","hwy: 19<br />displ: 4.6","hwy: 17<br />displ: 5.0","hwy: 29<br />displ: 2.4","hwy: 27<br />displ: 2.4","hwy: 31<br />displ: 2.5","hwy: 32<br />displ: 2.5","hwy: 27<br />displ: 3.5","hwy: 26<br />displ: 3.5","hwy: 26<br />displ: 3.0","hwy: 25<br />displ: 3.0","hwy: 25<br />displ: 3.5","hwy: 17<br />displ: 3.3","hwy: 17<br />displ: 3.3","hwy: 20<br />displ: 4.0","hwy: 18<br />displ: 5.6","hwy: 26<br />displ: 3.1","hwy: 26<br />displ: 3.8","hwy: 27<br />displ: 3.8","hwy: 28<br />displ: 3.8","hwy: 25<br />displ: 5.3","hwy: 25<br />displ: 2.5","hwy: 24<br />displ: 2.5","hwy: 27<br />displ: 2.5","hwy: 25<br />displ: 2.5","hwy: 26<br />displ: 2.5","hwy: 23<br />displ: 2.5","hwy: 26<br />displ: 2.2","hwy: 26<br />displ: 2.2","hwy: 26<br />displ: 2.5","hwy: 26<br />displ: 2.5","hwy: 25<br />displ: 2.5","hwy: 27<br />displ: 2.5","hwy: 25<br />displ: 2.5","hwy: 27<br />displ: 2.5","hwy: 20<br />displ: 2.7","hwy: 20<br />displ: 2.7","hwy: 19<br />displ: 3.4","hwy: 17<br />displ: 3.4","hwy: 20<br />displ: 4.0","hwy: 17<br />displ: 4.7","hwy: 29<br />displ: 2.2","hwy: 27<br />displ: 2.2","hwy: 31<br />displ: 2.4","hwy: 31<br />displ: 2.4","hwy: 26<br />displ: 3.0","hwy: 26<br />displ: 3.0","hwy: 28<br />displ: 3.5","hwy: 27<br />displ: 2.2","hwy: 29<br />displ: 2.2","hwy: 31<br />displ: 2.4","hwy: 31<br />displ: 2.4","hwy: 26<br />displ: 3.0","hwy: 26<br />displ: 3.0","hwy: 27<br />displ: 3.3","hwy: 30<br />displ: 1.8","hwy: 33<br />displ: 1.8","hwy: 35<br />displ: 1.8","hwy: 37<br />displ: 1.8","hwy: 35<br />displ: 1.8","hwy: 15<br />displ: 4.7","hwy: 18<br />displ: 5.7","hwy: 20<br />displ: 2.7","hwy: 20<br />displ: 2.7","hwy: 22<br />displ: 2.7","hwy: 17<br />displ: 3.4","hwy: 19<br />displ: 3.4","hwy: 18<br />displ: 4.0","hwy: 20<br />displ: 4.0","hwy: 29<br />displ: 2.0","hwy: 26<br />displ: 2.0","hwy: 29<br />displ: 2.0","hwy: 29<br />displ: 2.0","hwy: 24<br />displ: 2.8","hwy: 44<br />displ: 1.9","hwy: 29<br />displ: 2.0","hwy: 26<br />displ: 2.0","hwy: 29<br />displ: 2.0","hwy: 29<br />displ: 2.0","hwy: 29<br />displ: 2.5","hwy: 29<br />displ: 2.5","hwy: 23<br />displ: 2.8","hwy: 24<br />displ: 2.8","hwy: 44<br />displ: 1.9","hwy: 41<br />displ: 1.9","hwy: 29<br />displ: 2.0","hwy: 26<br />displ: 2.0","hwy: 28<br />displ: 2.5","hwy: 29<br />displ: 2.5","hwy: 29<br />displ: 1.8","hwy: 29<br />displ: 1.8","hwy: 28<br />displ: 2.0","hwy: 29<br />displ: 2.0","hwy: 26<br />displ: 2.8","hwy: 26<br />displ: 2.8","hwy: 26<br />displ: 3.6"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(11,43,81,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(11,43,81,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":34.897637795275585,"r":18.897637795275585,"b":56.091494167214165,"l":49.117646097475671},"paper_bgcolor":"rgba(254,254,241,1)","font":{"color":"rgba(6,22,41,1)","family":"Lato","size":18.596928185969286},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[10.4,45.600000000000001],"tickmode":"array","ticktext":["20","30","40"],"tickvals":[20,30,40],"categoryorder":"array","categoryarray":["20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(6,22,41,1)","ticklen":4.6492320464923216,"tickwidth":0.74387712743877132,"showticklabels":true,"tickfont":{"color":"rgba(6,22,41,1)","family":"Lato","size":13.947696139476964},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"hwy","font":{"color":"rgba(6,22,41,1)","family":"Lato","size":18.596928185969286}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.3300000000000001,7.2699999999999996],"tickmode":"array","ticktext":["2","3","4","5","6","7"],"tickvals":[2,3,4,5,6,7],"categoryorder":"array","categoryarray":["2","3","4","5","6","7"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(6,22,41,1)","family":"Lato","size":13.947696139476964},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(199,203,207,1)","gridwidth":0.37193856371938566,"zeroline":false,"anchor":"x","title":{"text":"displ","font":{"color":"rgba(6,22,41,1)","family":"Lato","size":18.596928185969286}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(6,22,41,1)","family":"Lato","size":14.505603985056041}},"hovermode":"closest","barmode":"relative","plot_bgcolor":"transparent"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"5b6078243466":{"x":{},"y":{},"type":"scatter"}},"cur_data":"5b6078243466","visdat":{"5b6078243466":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

---
### Interactive maps ([Leaflet](https://rstudio.github.io/leaflet/) and [Mapview](https://r-spatial.github.io/mapview/))

<div class="leaflet html-widget html-fill-item" id="htmlwidget-8f894922caa77da6655f" style="width:100%;height:504px;"></div>
<script type="application/json" data-for="htmlwidget-8f894922caa77da6655f">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron","CartoDB.Positron","CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter","CartoDB.DarkMatter","CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[45.73360071410955,4.833428242327759,6,null,"ENS",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>geometry&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[4.833428242327759,45.73360071410955,4.833428242327759,45.73360071410955,true,"ENS","Zoom to ENS","<strong> ENS <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"ENS",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["ENS"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"ENS"}]}],"limits":{"lat":[45.73360071410955,45.73360071410955],"lng":[4.833428242327759,4.833428242327759]},"setView":[[45.73360071410955,4.833428242327759],18,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>

---
### Interactive apps ([Shiny](https://shiny.posit.co/))

&lt;iframe src="https://kaplanas.shinyapps.io/living_in_the_lego_world/?showcase=0" width="100%" height="480px" data-external="1"&gt;&lt;/iframe&gt;

---
layout: true

# Literate programming

---

- Combine code and natural language

&lt;iframe src="https://vincentbagilet.github.io/causal_exaggeration/RDD.html" width="100%" height="450px" data-external="1"&gt;&lt;/iframe&gt;

---

- R Package: [Quarto](https://quarto.org/)

- We will use this in this class

- Helpful for economic research. Allows to:

  - Clearly describe **why** your are doing what you are doing
  
  - Store details and information for future-self (data sources, data structure, etc)
  
  - Analyse your results
  
  - Communicate

---
class: titled, middle
layout: false

.pull-left[
&lt;img src="images/r4ds.jpg" width="450" style="display: block; margin: auto;" /&gt;
]
.pull-right[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
- Install R and RStudio. 

- Instructions [here](https://r4ds.hadley.nz/intro#prerequisites).

- A great recitation taught by Lucile Laugrette
]

&lt;!-- --- --&gt;
&lt;!-- class: right, middle, inverse --&gt;

&lt;!-- # Exercise in R --&gt;

---
class: right, middle, inverse

# Maths on the board

---
class: right, middle, inverse

# Lecture summary

---
class: titled, middle

# What did we learn today?

- How theory and applied research can weave together

- Usefulness of regression and its basics

- Econometrics `\(\simeq\)` methods to **approximate and interpret the data generation process**

---
class: right, middle, inverse

# Thanks!

 





    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"countIncrementalSlides": false,
"highlightLines": true,
"highlightStyle": "github",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
